{{page-title "Pay"}}

<div class="container mx-auto xl:max-w-screen-xl py-16 px-3 md:px-6">
  <div class="flex flex-col items-center justify-center">
    <h1 class="text-2xl font-bold text-gray-700 md:text-3xl max-w-2xl text-center">
      Choose your CodeCrafters membership
    </h1>

    {{#if this.user.availableCustomDiscount}}
      <PayPage::CustomDiscountNotice @customDiscount={{this.user.availableCustomDiscount}} class="mt-8" />
    {{else if this.user.isEligibleForEarlyBirdDiscount}}
      <PayPage::EarlyBirdDiscountNotice @expiresAt={{this.user.earlyBirdDiscountEligibilityExpiresAt}} class="mt-8" />
    {{else if this.user.isEligibleForReferralDiscount}}
      <PayPage::ReferralDiscountNotice @referralActivation={{this.user.currentReferralActivation}} class="mt-8" />
    {{/if}}

    {{#if @model.regionalDiscount}}
      <PayPage::RegionalDiscountNotice
        @regionalDiscount={{@model.regionalDiscount}}
        @shouldApplyRegionalDiscount={{this.shouldApplyRegionalDiscount}}
        class="mt-8"
      />
    {{/if}}

    <div class="flex flex-col lg:flex-row gap-x-8 gap-y-8 items-start mt-12">
      <PayPage::PricingCard
        @actualPrice={{120}}
        @footerText="Single payment of $120."
        @isRecommended={{true}}
        @pricingFrequency="quarterly"
        @regionalDiscount={{if this.shouldApplyRegionalDiscount @model.regionalDiscount}}
        @shouldShowAmortizedMonthlyPrice={{false}}
        @title="3 months access"
        data-test-quarterly-pricing-card
      />

      <PayPage::PricingCard
        @actualPrice={{360}}
        @customDiscount={{this.user.availableCustomDiscount}}
        @discountedPrice={{this.discountedYearlyPrice}}
        @earlyBirdDiscountEnabled={{this.user.isEligibleForEarlyBirdDiscount}}
        @footerText="Singly payment of ${{or this.discountedYearlyPrice 360}}."
        @isRecommended={{false}}
        @pricingFrequency="yearly"
        @regionalDiscount={{if this.shouldApplyRegionalDiscount @model.regionalDiscount}}
        @referralDiscountEnabled={{this.user.isEligibleForReferralDiscount}}
        @shouldShowAmortizedMonthlyPrice={{false}}
        @title="1 year access"
        data-test-yearly-pricing-card
      />

      <PayPage::PricingCard
        @actualPrice={{990}}
        @footerText="Pay once, access for life."
        @isRecommended={{false}}
        @pricingFrequency="lifetime"
        @regionalDiscount={{if this.shouldApplyRegionalDiscount @model.regionalDiscount}}
        @shouldShowAmortizedMonthlyPrice={{false}}
        @title="Lifetime access"
        data-test-lifetime-pricing-card
      />
    </div>

    <PayPage::MonthlyChallengeBanner class="max-w-[972.53px]"/>

    <div role="button" class="font-medium mt-16 text-sm text-gray-700 hover:underline" {{on "click" this.handleTryNowPayLaterButtonClicked}}>
      I'm still exploring â†’
    </div>

    <TestimonialList />

    <FaqList class="mt-16" />
  </div>
</div>