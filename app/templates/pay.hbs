{{page-title "Pay"}}

<div class="container mx-auto lg:max-w-screen-lg py-16 px-3 md:px-6">
  <div class="flex flex-col items-center justify-center">
    <h1 class="text-2xl font-bold text-gray-700 md:text-3xl max-w-2xl text-center">
      Choose your CodeCrafters membership
    </h1>

    {{#if this.user.isEligibleForEarlyBirdDiscount}}
      <PayPage::EarlyBirdDiscountNotice @expiresAt={{this.user.earlyBirdDiscountEligibilityExpiresAt}} class="mt-8" />
    {{else if this.user.isEligibleForReferralDiscount}}
      <PayPage::ReferralDiscountNotice @referralActivation={{this.user.currentReferralActivation}} class="mt-8" />
    {{/if}}

    <div class="flex flex-col-reverse md:flex-row gap-x-8 gap-y-8 items-start mt-12">
      <PayPage::PricingCard
        @title="Monthly"
        @autoRenewSubscription={{true}}
        @actualPrice={{99}}
        @subtitle="Recurring subscription"
        @pricingFrequency="monthly"
        @footerText="No charge today. Cancel anytime."
        data-test-monthly-pricing-card
      />

      <PayPage::PricingCard
        @title="3 months"
        @autoRenewSubscription={{false}}
        @actualPrice={{249}}
        @subtitle="Full access for 3 months"
        @pricingFrequency="quarterly"
        @footerText="One-time payment."
        data-test-quarterly-pricing-card
      />

      <PayPage::PricingCard
        @footerText="Ideal for expensing."
        @autoRenewSubscription={{false}}
        @title="1 year"
        @subtitle="Learn at your own pace"
        @actualPrice={{990}}
        @discountedPrice={{if (or this.user.isEligibleForEarlyBirdDiscount this.user.isEligibleForReferralDiscount) 594 null}}
        @pricingFrequency="yearly"
        data-test-yearly-pricing-card
      />
    </div>

    <div role="button" class="mt-8 text-sm text-gray-400 hover:underline" {{on "click" this.handleTryNowPayLaterButtonClicked}}>
      I'm still exploring â†’
    </div>

    <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl">
      {{#each this.testimonials as |testimonial|}}
        <CourseOverviewPage::TestimonialListItem @testimonial={{testimonial}} />
      {{/each}}
    </div>
  </div>
</div>