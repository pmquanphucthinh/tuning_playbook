<div class="flex items-center flex-wrap mr-6">
  <div class="text-lg md:text-2xl mr-2 mb-3 sm:mb-6 flex items-center" data-test-course-stage-solution-modal-title>
    <CoursePage::CourseStageSolutionModal::StageSwitcherContainer
      class="mr-2"
      @currentStage={{@courseStage}}
      @onPreviousStageButtonClick={{@onPreviousStageButtonClick}}
      @onNextStageButtonClick={{@onNextStageButtonClick}}
    />
    <span class="text-gray-600 mr-1">Stage #{{@courseStage.position}}:</span>
    <span class="font-bold text-gray-700">{{@courseStage.name}}</span>
  </div>
</div>

<div class="flex flex-wrap items-center justify-between">
  <div class="flex items-center overflow-x-scroll pb-4 mb-2">
    {{#if (includes "comments" @availableTabs)}}
      <CoursePage::CourseStageSolutionModal::HeaderTabLink
        @icon="light-bulb"
        @text="Hints"
        @isActive={{eq @activeTab "comments"}}
        {{on "click" (fn @onTabLinkClick "comments")}}
      />
    {{/if}}

    {{#if (includes "community_solutions" @availableTabs)}}
      <CoursePage::CourseStageSolutionModal::HeaderTabLink
        @icon="code"
        @text="Code Examples"
        @isActive={{eq @activeTab "community_solutions"}}
        {{on "click" (fn @onTabLinkClick "community_solutions")}}
      />
    {{/if}}

    {{#if (includes "verified_solution" @availableTabs)}}
      <CoursePage::CourseStageSolutionModal::HeaderTabLink
        @icon="academic-cap"
        @text="Verified Solution"
        @isActive={{eq @activeTab "verified_solution"}}
        @authorDetails={{@currentSolution.authorDetails}}
        @reviewersDetails={{@currentSolution.reviewersDetails}}
        {{on "click" (fn @onTabLinkClick "verified_solution")}}
      />
    {{/if}}
  </div>

  <div>
    {{#if (or (eq @activeTab "verified_solution") (eq @activeTab "explanation"))}}
      <CoursePage::CourseStageSolutionModal::LanguageDropdown
        @currentLanguage={{@currentSolution.language}}
        @requestedLanguage={{@requestedSolutionLanguage}}
        @courseStage={{@courseStage}}
        @onRequestedLanguageChange={{@onRequestedSolutionLanguageChange}}
        @onDidInsertDropdown={{@onDidInsertLanguageDropdown}}
        class="mb-6"
      />
    {{else if (eq @activeTab "community_solutions")}}
      <CoursePage::CourseStageSolutionModal::CommunitySolutionsLanguageDropdown
        @courseStage={{@courseStage}}
        @requestedLanguage={{@requestedSolutionLanguage}}
        @onRequestedLanguageChange={{@onRequestedSolutionLanguageChange}}
        @onDidInsertDropdown={{@onDidInsertLanguageDropdown}}
        class="mb-6"
      />
    {{/if}}
  </div>
</div>