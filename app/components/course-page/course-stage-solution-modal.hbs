<ModalBody @allowManualClose={{true}} @onClose={{@onClose}} @isWide={{true}} @class="w-full" data-test-course-stage-solution-modal>
  <CoursePage::CourseStageSolutionModal::Header
    @currentSolutionLanguage={{this.solution.language}}
    @activeTab={{this.activeTab}}
    @onTabLinkClick={{this.handleTabLinkClick}}
    @onRequestedSolutionLanguageChange={{this.handleRequestedSolutionLanguageChange}}
    @requestedSolutionLanguage={{this.requestedSolutionLanguage}}
    @courseStage={{@courseStage}}
  />

  {{#if (eq this.activeTab "diff")}}
    <CoursePage::CourseStageSolutionModal::Diff @solution={{this.solution}} />
  {{else if (eq this.activeTab "explanation")}}
    <CoursePage::CourseStageSolutionModal::Explanation @solution={{this.solution}} />
  {{else}}
    <CodeWalkthrough @model={{@courseStage.sourceWalkthrough}} />
  {{/if}}
</ModalBody>