<ModalBody
  @allowManualClose={{true}}
  @onClose={{@onClose}}
  @isWide={{true}}
  @class="w-full"
  {{did-insert this.handleDidInsertModalBody}}
  data-test-course-stage-solution-modal
>
  <CoursePage::CourseStageSolutionModal::Header
    @currentSolution={{this.solution}}
    @activeTab={{this.activeTab}}
    @onTabLinkClick={{this.handleTabLinkClick}}
    @onRequestedSolutionLanguageChange={{this.handleRequestedSolutionLanguageChange}}
    @requestedSolutionLanguage={{this.requestedSolutionLanguage}}
    @courseStage={{@courseStage}}
  />

  {{#if (eq this.activeTab "verified_solution")}}
    <CoursePage::CourseStageSolutionModal::VerifiedSolutionTab @solution={{this.solution}} />
  {{else if (eq this.activeTab "explanation")}}
    <CoursePage::CourseStageSolutionModal::ExplanationTab @solution={{this.solution}} @onViewDiffButtonClick={{fn this.handleTabLinkClick "diff"}} />
  {{else if (eq this.activeTab "community_solutions")}}
    <CoursePage::CourseStageSolutionModal::CommunitySolutionsTab
      @courseStage={{@courseStage}}
      @requestedSolutionLanguage={{this.requestedSolutionLanguage}}
      @repository={{@repository}}
    />
  {{else if (eq this.activeTab "source_walkthrough")}}
    <CodeWalkthrough @model={{@courseStage.sourceWalkthrough}} />
  {{else if (eq this.activeTab "comments")}}
    <CoursePage::CourseStageSolutionModal::CommentsTab @courseStage={{@courseStage}} @language={{@repository.language}} />
  {{/if}}
</ModalBody>